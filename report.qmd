---
title: "The Relationship between Race and Wealth in U.S. history over Time"
subtitle: "Report"
format: html
editor: visual
execute:
  echo: true
---

## Introduction

From Marilyn Monroe to Legally Blonde, media has always influenced society's perception of gender roles. Historically, these perceptions have put in place expectations that women should be subservient and unambitious compared to men who usually are portrayed as more multidimensional and courageous. In the 2000s, the Bechdel test gained popularity as this gender role discourse grew. First created by the cartoonist Alison Bechdel for the 1985 comic "Dykes to Watch Out For," the basis of the test came from the 1929 essay by Virginia Woolf A Room of One's Own where she observes how women's portrayal in media has been always been confined to their relations to men. According to the comic, a movie passes the Bechdel Test if it satisfies these 3 criteria: there are at least two named women in the picture, they have a conversation with each other at some point, and that conversation isn't about a male character. With the increase in representation and diversity of Hollywood, changes in society values, and record-hitting sales in heavily award movies, and more, we wanted to see how the Bechdel test influences the success of a movie across many different variables. Through this, we believe we are able to understand the gender ideals of our media and how they influence society to a greater degree.

Research Question: Does a movie's passage of the Bechdel test influence its success?

This question is important as it relates to the level of female representation in the film industry, and the value that the film industry places on female actors, characters, and storylines in film.

Across a general trend, we hypothesize movies that fail the Bechdel test will have higher success, stemming from higher ratings, gross income and awards. Although there has been progress in creating larger roles for women in film, society still values certain gender stereotypes in films and some of these still do very well in the box office.

For ethical concerns, the Bechdel test has been shown to be flawed in that it sets a bare minimum rather than a adequate standard. For example, it sets no time standard for women to appear on the screen or address intersectionality by including race, sexuality, disability, or class. Therefore, if a movie or group of movies pass a test, it may seem like it has a good portrayal of women when in reality it still feeds into gender roles and lack of representation of women.

Data Information:

This data is from fivethirtyeight.come, and was originally collected from IMBD movie data in 2017.

The observations in this datasets are various movies, and the variables include: year (year movie was released), imdb (imdb code for movie), title (title of movie), test (whether it passes each criterion of the Bechdel test- contains two named female characters, do these two women speak to each other, do they speak to each other about something other than a man), binary (whether the movie passes the Bechdel test) budget (movie budget), domgross (the domestic gross product of the movie, intgross (the international gross product of the movie), and the budget/GDP of the movies converted to 2013 dollars.

Literature:

Our research question sparked from a fivethirtyeight.com article that described how â…“ of the top 50 movies from 2016 failed the Bechdel Test. The Bechdel Test is a simple test that assesses movies based on three criteria: does a movie have at least two named female characters? Do these named characters have at least one conversation? Is this conversation about something that is not about a man? We were surprised by the number of movies that did not pass this seemingly basic test, even in 2016. This article further explored diversity in the film industry, testing movies on whether the on-set crew were 50% women (of which none of these top 50 movies passed), and explored the racial diversity in the film industry.

To further explore female representation and characterization in the film industry, we want to investigate the relationship between film budget and profit in regard to whether films pass the Bechdel test.

(article: https://projects.fivethirtyeight.com/next-bechdel/)

## Methodology

```{r}
#| label: load-packages
#| message: false
library(tidyverse)
library(tidymodels)
```

```{r}
#| label: load-data-wealth-and-income

bechdel<- read.csv(file = 'data/bechdel_test.csv')

```


```{r}
#|label: IMDB
bechdel_rating <- bechdel |> 
  group_by(rated) |>
  summarize (n = n())
bechdel$type <- as.factor(ifelse(bechdel$imdb_rating < 2.5, 'low',
                          ifelse(bechdel$imdb_rating < 5.0, 'mid1', 
                          ifelse(bechdel$imdb_rating < 7.5, 'mid2', 
                          ifelse(bechdel$imdb_rating < 10.0, 'high',0)))))
bechdel |>
  filter(type != 'NA') |>
  ggplot(aes(x = type, fill = binary)) +
  geom_bar(position = "fill") +
  scale_x_discrete(limits = c("low", "mid1", "mid2", "high")) +
  labs(
    x = "IMDB Rating Category",
    y = "Proportion",
    fill = "Bechdel Test Result",
    title = "Proportion of Movies that passed Bechdel Test by IMDB Rating"
  )
  

  
```

Movies that fall withing the 2.5-5.0 ranking on IMDB are the most likely to Pass the bechdel test, while higher-ranked movies are less likely to pass than middle-ranked movies.



```{r}
#| label: histogram-year-binary
bechdel|>
  ggplot(aes(x = year)) +
  geom_histogram(bins = 43) +
  labs(
    title = "Number of Movies by Year",
    x = "Year",
    y = "Count"
  )

```

Are lower budget or higher budget movies more likely to pass?

```{r}
#| label: bar-median-budget

high_budget |>
  ggplot(aes(x = binary)) +
  geom_bar() +
  labs(
    title = "Number of Movies that Passed/Failed the Bechdel Test",
    x = "Bechdel Test Result",
    y = "Count"
  )

 
```



```{r}
#|label: intgross

bechdel |>
  filter(!is.na(period_code)) |>
  ggplot(aes(x = as.factor(period_code), y = as.numeric(intgross), color = binary)) +
  geom_boxplot() +
  ylim(0, 1.0e+09) +
  labs(
    title = "Movies by period, international gross income, and Bechdel test result",
    y = "International Gross Income",
    x = "Time Period (1 is newest, 5 is oldest)",
    color = "Bechdel Test Result"
  )
```

```{r}
#|label: rearrange-data
bechdel|>
  filter(grepl('Oscar', awards)) |>
  filter(grepl('Won', awards))

bechdel = bechdel |>
  mutate(oscar_won = if_else(grepl('Oscar', bechdel$awards), ifelse(grepl('Won', bechdel$awards), 'Y', 'N'),'N'))

```
```{r}
#|label: oscar-wins

bechdel |>
  ggplot(aes(x = oscar_won, fill = binary)) +
  geom_bar(position = "fill") +
  labs(
    title = "Movies by Oscar and Bechdel Test Result",
    y = "Proportion",
    x = "Oscar Won/Lost",
    fill = "Bechdel Test Result"
  )
```




Summary Statistics ideas:

Chi Squared Test:

$\H_o:$ IMDB Rating and Passing the Bechdel test are independent of each other 
$\H_a$ IMDB Rating and passing of the Bechdel test are not independent of each other

```{r}
#|label: chi-squared

chisq.test(bechdel$type, bechdel$binary)
```

After running our Chi-Squared we found the p value to be 7.237e-06. Because our p-value of 7.237e-06 is less than our alpha value of 0.05, we reject the null hypothesis and conclude that passing the Bechdel test and IMDB score have some correlation.

```{r}
#|label: diff-in-incomes

bechdel |>
  filter(intgross != "#N/A") |>
  group_by(binary) |>
  summarise(mean_income = mean(as.numeric(intgross)))

```

$\bar{x_f} - \bar{x_p}$ = 32064726

$H_o: \mu_f - \mu_p$ = 0

$H_a: \mu_f - \mu_p >$ 0

```{r}
#|label: permute-test

bechdel <- bechdel |>
  mutate (
    intgross = as.numeric(intgross)
  )

null_dist <- bechdel |>
  specify(response = intgross, explanatory = binary) |>
  hypothesize(null = "independence") |>
  generate(reps = 1000, type = "permute") |>
  calculate(stat = "diff in means", order = c("FAIL", "PASS"))
```

```{r}
#|label: p-val

null_dist |>
  get_p_value(obs_stat = 32064726, direction = "greater")

null_dist |>
  ggplot(
    aes(x = stat)
  ) +
  geom_histogram() +
  geom_vline(xintercept = 32064726) +
  labs(
    x = "Difference in Sample Income Means",
    y = "Count",
    title = "Null Distribution of Difference in Gross Incomes"
  )

```

-   Assuming that the true mean international gross incomes for movies that fail the Bechdel test is equal to the the true mean international gross incomes for movies that pass the Bechdel test, the probability that we observe a sample mean of 32064726 or greater is about 0.001. Since our p-value is less than 0.05 (0.001 \< 0.05) we reject the null hypothesis and conclude the alternative hypothesis that movies that fail the Bechdel test have a greater international gross income.

```{r}
#|label: diff-in-ratings

bechdel |>
  filter(imdb_rating != "#N/A") |>
  group_by(binary) |>
  summarise(mean_rating = mean(as.numeric(imdb_rating)))

```

$\bar{x_f} - \bar{x_p}$ = 0.284488

$H_o: \mu_f - \mu_p$ = 0

$H_a: \mu_f - \mu_p >$ 0

```{r}
#|label: permute-test

bechdel <- bechdel |>
  mutate (
    imdb_rating = as.numeric(imdb_rating)
  )

null_dist2 <- bechdel |>
  specify(response = imdb_rating, explanatory = binary) |>
  hypothesize(null = "independence") |>
  generate(reps = 1000, type = "permute") |>
  calculate(stat = "diff in means", order = c("FAIL", "PASS"))
```

```{r}
#|label: p-val

null_dist2 |>
  get_p_value(obs_stat = 0.284488, direction = "greater")

null_dist2 |>
  ggplot(
    aes(x = stat)
  ) +
  geom_histogram() +
  geom_vline(xintercept = 0.284488) +
  labs(
    x = "Difference in Sample Rating Means",
    y = "Count",
    title = "Null Distribution of Difference in IMDB Ratings"
  )

```

-   Assuming that the true mean IMDB rating for movies that fail the Bechdel test is equal to the the true mean IMDB rating for movies that pass the Bechdel test, the probability that we observe a sample mean of 0.284488 or greater is less than 0.001. Since our p-value is less than 0.05 we reject the null hypothesis and conclude the alternative hypothesis that movies that fail the Bechdel test have a greater true mean IMDB rating

 
```{r}
chisq.test(bechdel$oscar_won, bechdel$binary)
```
 
 ## Results

Overall, we conclude that movies that fail the Bechdel Test are more successful in terms of income and ratings. However, for awards, we are unable to conclude that movies that fail the Bechdel Test are less likely to receive an award.

For income, we used a box plot and a difference in means distribution to find our results. From the box-plot we found that the true mean income was greater across all time periods. From our null distribution, we found a p-value equal to .001 showing that the difference in the true mean incomes in movies that fail the Bechdel test and movies that pass the Bechdel test is greater than 0. Overall, this shows that more profit is made, and therefore more tickets are bought, when limiting gender roles are present in movies.

For ratings, we performed a chi-squared test and displayed a bar chart of imdb ratings.

Finally for awards, we calculated a p-value of 0.8659. As a result, we fail to reject the null hypothesis that more Grammy's are won when movies fail the Bechdel Test.

Despite the lack of evidence in awards, we found that the overall success in movies increases when such movies fail the Bechdel Test. As awards and ratings are chosen by a small committee with certain guidelines in place, it makes sense for them not to show a significant difference regarding the Bechdel Test as many biases and politics are at play.
