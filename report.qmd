---
title: "The Relationship between Race and Wealth in U.S. history over Time"
subtitle: "Report"
format: html
editor: visual
execute:
  echo: true
---

## Introduction

From Marilyn Monroe to Legally Blonde, media has always influenced society's perception of gender roles. Historically, these perceptions have put in place expectations that women should be subservient and unambitious compared to men who usually are portrayed as more multidimensional and courageous. In the 2000s, the Bechdel test gained popularity as this gender role discourse grew. First created by the cartoonist Alison Bechdel for the 1985 comic "Dykes to Watch Out For," the basis of the test came from the 1929 essay by Virginia Woolf A Room of One's Own where she observes how women's portrayal in media has been always been confined to their relations to men.

According to the comic, a movie passes the Bechdel Test if it satisfies these 3 criteria:

1.  there are at least two named women in the picture,
2.  they have a conversation with each other at some point,
3.  and that conversation isn't about a male character.

With the increase in representation and diversity of Hollywood, changes in society values, and record-hitting sales in heavily award movies, and more, we wanted to see how the Bechdel test influences the success of a movie across many different variables. Through this, we believe we are able to understand the gender ideals of our media and how they influence society to a greater degree.

Research Question: Does a movie's passage of the Bechdel test influence its success?

This question is important as it relates to the level of female representation in the film industry, and the value that the film industry places on female actors, characters, and storylines in film.

Across a general trend, we hypothesize movies that fail the Bechdel test will have higher success, stemming from higher ratings, gross income and awards. Although there has been progress in creating larger roles for women in film, society still values certain gender stereotypes in films and some of these still do very well in the box office.

For ethical concerns, the Bechdel test has been shown to be flawed in that it sets a bare minimum rather than a adequate standard. For example, it sets no time standard for women to appear on the screen or address intersectionality by including race, sexuality, disability, or class. Therefore, if a movie or group of movies pass a test, it may seem like it has a good portrayal of women when in reality it still feeds into gender roles and lack of representation of women.

Data Information:

```{r, echo=FALSE}
#| label: load-packages
#| message: false
library(tidyverse)
library(tidymodels)
```

```{r, echo=FALSE}
#| label: load-data-wealth-and-income

bechdel<- read.csv(file = 'data/bechdel_test.csv')

```

This data is from fivethirtyeight.com, and was originally collected from IMBD movie data. The data we worked with is from the FiveThirtyEight story titled "The Dollar-And-Cents Case Against Hollywood's Exclusion of Women". After reading this article, we wanted to further explore how a movie's passage of the Bechdel test influences its financial and critic-based success. We chose this set as it contained over 1700 observations of films released from 1970-2013, as well as information on movie budgets, gross/international movie products, awards, movie genre, movie rating, and IMBD ratings.

The observations in this datasets are various movies, and the variables include: year (year movie was released), imdb (imdb code for movie), title (title of movie), test (whether it passes each criterion of the Bechdel test- contains two named female characters, do these two women speak to each other, do they speak to each other about something other than a man), binary (whether the movie passes the Bechdel test) budget (movie budget), domgross (the domestic gross product of the movie, intgross (the international gross product of the movie), and the budget/GDP of the movies converted to 2013 dollars.

**Summary Statistics**

```{r, echo=FALSE}
#| label: Sum-stats

bechdel_rating <- bechdel |> 
  group_by(rated) |>
  summarize (n = n())
bechdel$type <- as.factor(ifelse(bechdel$imdb_rating < 2.5, '<2.5',
                          ifelse(bechdel$imdb_rating < 5.0, '2.5-5.0', 
                          ifelse(bechdel$imdb_rating < 7.5, '5.0-7.5', 
                          ifelse(bechdel$imdb_rating < 10.0, '>7.5',0)))))

bechdel |>
  filter(type != 'NA') |>
  ggplot(aes(x = type)) +
  geom_bar(fill = "#FFD700", color = "black") +
  scale_x_discrete(limits = c("<2.5", "2.5-5.0", "5.0-7.5", ">7.5")) +
  labs(
    title = "Number of Movies by IMDB Rating Category",
    x = "IMDB Rating Categoy",
    y = "Count"
  ) +
  theme_dark()
```
As shown in the graph above, a majority of movies are between a 5.0 and a 7.5 IMDB rating. Also, there are very few movies that have a rating under 2.5 which may be a factor that we consider later.

```{r, echo=FALSE}
#| label: histogram-year-binary
bechdel|>
  ggplot(aes(x = year)) +
  geom_histogram(bins = 43, fill = "#FFD700", color = "black") +
  labs(
    title = "Number of Movies by Year",
    x = "Year",
    y = "Count"
  ) +
  theme_dark()

```

This graph shows the amount of movies produced each year in our data set. As seen above, there is a much larger amount of movies produced in more recent years. This may lead to some years have a greater amount of movies that pass the Bechdel test than others. While we do not directly use this to draw conclusions, it is useful in giving an overview of the data we are using.

```{r, echo=FALSE}
#| label: bar-median-budget

bechdel |>
  ggplot(aes(x = binary)) +
  geom_bar(fill = "#FFD700", color = "black") +
  labs(
    title = "Number of Movies that Passed/Failed the Bechdel Test",
    x = "Bechdel Test Result",
    y = "Count"
  ) +
  theme_dark()

 
```

This graph, like the one above, gives more overview data about the dataset we are using. This graph shows how many movies out of the dataset as a whole pass the Bechdel test. As you can see, while a majority of movies do not pass the Bechdel test, it is not significantly skewed.


Literature:

Our research question sparked from a fivethirtyeight.com article that described how â…“ of the top 50 movies from 2016 failed the Bechdel Test. The Bechdel Test is a simple test that assesses movies based on three criteria: does a movie have at least two named female characters? Do these named characters have at least one conversation? Is this conversation about something that is not about a man? We were surprised by the number of movies that did not pass this seemingly basic test, even in 2016. This article further explored diversity in the film industry, testing movies on whether the on-set crew were 50% women (of which none of these top 50 movies passed), and explored the racial diversity in the film industry.

To further explore female representation and characterization in the film industry, we want to investigate the relationship between film budget and profit in regard to whether films pass the Bechdel test.

(article: https://projects.fivethirtyeight.com/next-bechdel/)

## Methodology

```{r, echo=FALSE}
#| label: IMDB

bechdel |>
  filter(type != 'NA') |>
  ggplot(aes(x = type, fill = binary)) +
  geom_bar(position = "fill") +
  scale_x_discrete(limits = c("<2.5", "2.5-5.0", "5.0-7.5", ">7.5")) +
  labs(
    x = "IMDB Rating Category",
    y = "Proportion",
    fill = "Bechdel Test Result",
    title = "Proportion of Movies that passed Bechdel Test by IMDB Rating"
  )
  

  
```


This graph shows the proportion of movies to pass the Bechdel test at different IMDB scores. IMDB scores are out of 10 so each bar represents 2.5 out of the total 10 points with the first being a score of 0-2.5. Our data shows that movies that fall withing the 2.5-5.0 ranking on IMDB are the most likely to Pass the Bechdel test, while higher-ranked movies are less likely to pass than middle-ranked movies. As shown in the summary statistics, there are less movies that have ratings between 0 and 5, with little to no movies having a rating below 2.5. This may cause our graph to be skewed and may explain why the first two categories show different results than the latter two. We decided to use this to show how the Bechdel test might compare to critic ratings to see if there is a correlation.  


```{r, echo=FALSE}
#| label: intgross

bechdel |>
  filter(!is.na(period_code)) |>
  ggplot(aes(x = as.factor(period_code), y = as.numeric(intgross), color = binary)) +
  geom_boxplot() +
  ylim(0, 1.0e+09) +
  labs(
    title = "Movies by period, international gross income, \n and Bechdel test result",
    y = "International Gross Income",
    x = "Time Period (1 is newest, 5 is oldest)",
    color = "Bechdel Test Result"
  )
```

This graph shows how international gross income compares to the time period of release and the result of the Bechdel test. As you can see from the graph, in most time periods movies that fail the Bechdel test do better to make money. While this does not include budget for movies, it gives good insight into how gross income relates to the Bechdel test.


```{r, echo=FALSE}
#| label: rearrange-data

bechdel = bechdel |>
  mutate(oscar_won = if_else(grepl('Oscar', bechdel$awards), ifelse(grepl('Won', bechdel$awards), 'Y', 'N'),'N'))

```


```{r, echo=FALSE}
#| label: oscar-wins

bechdel |>
  ggplot(aes(x = oscar_won, fill = binary)) +
  geom_bar(position = "fill") +
  labs(
    title = "Movies by Oscar and Bechdel Test Result",
    y = "Proportion",
    x = "Oscar Won/Lost",
    fill = "Bechdel Test Result"
  )
```

This graph shows how winning an Oscar reflects on the Bechdel test. Winning an Oscar is one of the most prestegious awards for a film so usually only the best films of the years are considered. Looking at the data, we can see that winning an Oscar does not seem to have much affect on passing the Bechdel test. Because an Oscar is a measure of success, this graph gives great information for us to answer our research question.

## Results

We decided to use both the Chi-Squared Test for Independence and the Test for difference of means. The Chi-Squared Test for Independence helps determine if the two variables are likely to be related. As we are measuring whether the Bechdel test affects success, knowing if the two variables are likely to be related can be a good first step. We are also using the difference in means test, also known as the t-test, to see if both ratings and income are influenced by the Bechdel test. Since both of these are numeric values, a difference in means is very helpful in determining if there is a meaningful difference when taking into account the Bechdel test.

Chi Squared Test for Independence for IMDB:

While the IMDB score is a numerical value, we divided it into categorys. Because we are dividing it into categories, we are able to use the Chi-Squared Test for Independence. We chose to alter the data because in our first graph we altered the data in the same way and this may help us draw better conclusions.

$\H_o:$ IMDB Rating and passing the Bechdel test are independent of each other. $\H_a$ IMDB Rating and passing the Bechdel test are not independent of each other.


```{r, echo=FALSE}
#| label: chi-squared

chisq.test(bechdel$type, bechdel$binary, simulate.p.value = TRUE)
```

After running our Chi-Squared we found the p value to be 7.237e-06. Because our p-value of 7.237e-06 is less than our alpha value of 0.05, we reject the null hypothesis and conclude that passing the Bechdel test and IMDB score are not independent observations.

Difference in Means for IMDB ratings:


```{r, echo=FALSE}
#| label: diff-in-ratings

bechdel |>
  filter(imdb_rating != "#N/A") |>
  group_by(binary) |>
  summarise(mean_rating = mean(as.numeric(imdb_rating)))

```

$\bar{x_f} - \bar{x_p}$ = 0.284488

$H_o: \mu_f - \mu_p$ = 0

$H_a: \mu_f - \mu_p >$ 0


```{r, echo=FALSE}
#| label: permute-test

bechdel <- bechdel |>
  mutate (
    imdb_rating = as.numeric(imdb_rating)
  )

null_dist2 <- bechdel |>
  specify(response = imdb_rating, explanatory = binary) |>
  hypothesize(null = "independence") |>
  generate(reps = 1000, type = "permute") |>
  calculate(stat = "diff in means", order = c("FAIL", "PASS"))
```

```{r, echo=FALSE}
#| label: p-val

null_dist2 |>
  get_p_value(obs_stat = 0.284488, direction = "greater")

null_dist2 |>
  ggplot(
    aes(x = stat)
  ) +
  geom_histogram() +
  geom_vline(xintercept = 0.284488) +
  labs(
    x = "Difference in Sample Rating Means",
    y = "Count",
    title = "Null Distribution of Difference in IMDB Ratings"
  )

```

-   Assuming that the true mean IMDB rating for movies that fail the Bechdel test is equal to the the true mean IMDB rating for movies that pass the Bechdel test, the probability that we observe a sample mean of 0.284488 or greater is less than 0.001. Since our p-value is less than 0.05 we reject the null hypothesis and conclude the alternative hypothesis that movies that fail the Bechdel test have a greater true mean IMDB rating

Difference in Means test for income generated:


```{r, echo=FALSE}
#| label: diff-in-incomes

bechdel |>
  filter(intgross != "#N/A") |>
  group_by(binary) |>
  summarise(mean_income = mean(as.numeric(intgross)))

```

$\bar{x_f} - \bar{x_p}$ = 32064726

$H_o: \mu_f - \mu_p$ = 0

$H_a: \mu_f - \mu_p >$ 0


```{r, echo=FALSE}
#| label: permute-test2

bechdel <- bechdel |>
  mutate (
    intgross = as.numeric(intgross)
  )

null_dist <- bechdel |>
  specify(response = intgross, explanatory = binary) |>
  hypothesize(null = "independence") |>
  generate(reps = 10000, type = "permute") |>
  calculate(stat = "diff in means", order = c("FAIL", "PASS"))
```


```{r, echo=FALSE}
#| label: p-val2

null_dist |>
  get_p_value(obs_stat = 32064726, direction = "greater")

null_dist |>
  ggplot(
    aes(x = stat)
  ) +
  geom_histogram() +
  geom_vline(xintercept = 32064726) +
  labs(
    x = "Difference in Sample Income Means",
    y = "Count",
    title = "Null Distribution of Difference in Gross Incomes"
  )

```

-   Assuming that the true mean international gross incomes for movies that fail the Bechdel test is equal to the the true mean international gross incomes for movies that pass the Bechdel test, the probability that we observe a sample mean of 32064726 or greater is about 0.001. Since our p-value is less than 0.05 (0.001 \< 0.05) we reject the null hypothesis and conclude the alternative hypothesis that movies that fail the Bechdel test have a greater international gross income.

Chi-Squared Test for Independence for Oscar winners:

$\H_o:$ Winning an Oscar and passing the Bechdel test are independent of each other. $\H_a$ Winning an Oscar and passing the Bechdel test are not independent of each other.

```{r, echo=FALSE}

#| label: chi-test-oscar-pass

chisq.test(bechdel$oscar_won, bechdel$binary)
```

After running our Chi-Squared we found the p value to be 0.8659. Because our p-value of 0.8659 is greater than our alpha value of 0.05, we fail to reject the null hypothesis and can not conclude that passing the Bechdel test and winning an Oscar have a correlation.

Overall, we conclude that movies that fail the Bechdel Test are more successful in terms of income and ratings. However, for awards, we are unable to conclude that movies that fail the Bechdel Test are less likely to receive an award.

For income, we used a box plot and a difference in means distribution to find our results. From the box-plot we found that the true mean income was greater across all time periods. From our null distribution, we found a p-value equal to .001 showing that the difference in the true mean incomes in movies that fail the Bechdel test and movies that pass the Bechdel test is greater than 0. Overall, this shows that more profit is made, and therefore more tickets are bought, when limiting gender roles are present in movies.

For ratings, we performed a chi-squared test and displayed a bar chart of imdb ratings. Our bar chart overall displayed a trend of higher ratings having a higher Bechdel Test failing proportion and our chi-squared test resulted in a p-value of 7.237e-06. From this we reject the null hypothesis that IMDB ratings and failing the Bechdel test are independent. Additionally we calculated a difference in means null distribution which had a p-value of less than 0.001 concluding that IMDB ratings are greater for movies that fail the Bechdel Test.

Finally for awards, we calculated a p-value of 0.8659. As a result, we fail to reject the null hypothesis that winning an Oscar and passing the Bechdel test are independent. Looking at our graph of Oscar Won vs. Bechdel test result, we see a similar trend. The proportion of movies that failed the Bechdel test were about the same whether or not the movies had one an Oscar. We conclude that passing the Bechdel test has little to no effect on whether a movie wins an Oscar.

Despite the lack of evidence in awards, we found that the overall success in movies increases when such movies fail the Bechdel Test. As awards are chosen by a small committee with certain guidelines in place, it makes sense for them not to show a significant difference regarding the Bechdel Test as many biases and politics are at play. One the other hand, ratings and income are dictated by the overall viewers showing the greater societal values of a one-dimesional, dependent ideal women.
